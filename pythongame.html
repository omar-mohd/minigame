<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Code Quest!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f7f3ff; }
        .code-block { background-color: #1f2937; color: #4ade80; padding: 1rem; border-radius: 0.5rem; font-family: monospace; white-space: pre-wrap; text-align: left; font-size: 1.25rem; line-height: 1.5; }
        .answer-button { transition: all 0.15s ease-in-out; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .answer-button:hover { transform: translateY(-2px); box-shadow: 0 6px 10px rgba(0,0,0,0.15); }
        .correct-answer { background-color: #34d399 !important; color: white !important; border-color: #10b981 !important; }
        .incorrect-answer { background-color: #fca5a5 !important; color: #991b1b !important; border-color: #ef4444 !important; }
    </style>
</head>
<body class="p-4 flex justify-center items-center min-h-screen">

    <div class="w-full max-w-2xl bg-white rounded-2xl shadow-2xl p-6 md:p-10 text-center border-4 border-indigo-500">

        <h1 class="text-4xl font-black text-pink-600 mb-2">üêç Python Code Quest!</h1>
        <p id="question-counter" class="text-lg text-gray-500 mb-6 font-semibold">Question 1</p>

        <div class="mb-6 flex justify-center items-center space-x-2">
            <span class="text-xl font-bold text-gray-700">Score: </span>
            <span id="score" class="text-4xl font-extrabold text-yellow-500">0</span>
        </div>

        <div class="p-4 bg-indigo-50 rounded-xl shadow-inner mb-8">
            <p id="question-text" class="text-xl font-bold text-gray-800 mb-4">Loading‚Ä¶</p>
            <div id="code-snippet" class="code-block"></div>
        </div>

        <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>

        <div id="feedback-message" class="mt-8 text-xl font-bold transition-opacity duration-300 opacity-0 min-h-[3rem] flex items-center justify-center"></div>

        <button id="next-button" class="mt-6 px-8 py-3 bg-indigo-500 text-white font-bold rounded-full text-lg shadow-lg hover:bg-indigo-600 transition duration-200 hidden" onclick="nextQuestion()">Next Challenge ‚Üí</button>

        <div id="game-over-modal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50">
            <div class="bg-white p-8 rounded-xl shadow-2xl text-center max-w-sm w-full border-4 border-pink-500">
                <h2 class="text-3xl font-black text-pink-600 mb-4">Code Quest Complete! üöÄ</h2>
                <p class="text-xl text-gray-600 mb-6">Your Final Score:</p>
                <p id="final-score" class="text-5xl font-extrabold text-yellow-500 mb-6">0</p>
                <p class="text-md text-gray-700 mb-6">Great job coding, explorer!</p>
                <button id="restart-button" class="w-full px-4 py-3 bg-indigo-500 text-white font-semibold rounded-full shadow-md hover:bg-indigo-600 transition duration-150" onclick="startGame()">Try Again</button>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            { prompt: "What is the word `score` called in this line?", code: "score = 50", answer: "Variable", options: ["Function","Loop","Variable","Comment"] },
            { prompt: "What will this code show on the screen?", code: 'print("Hello World!")', answer: "Hello World!", options: ["print","Error","Hello World!","print('Hello World!')"] },
            { prompt: "This symbol is used to leave a note the computer ignores. What is it?", code: "# This is a comment", answer: "# (Comment)", options: ["# (Comment)","+ (Operator)","= (Assignment)",": (Colon)"] },
            { prompt: "What kind of code is this?", code: 'if age >= 18:\n    print("Adult")', answer: "Conditional (If/Else)", options: ["Loop","Data Type","Conditional (If/Else)","Function"] },
            { prompt: "What happens when this loop runs?", code: 'for i in range(3):\n    print("Code")', answer: "The word 'Code' prints 3 times", options: ["The word 'Code' prints 3 times","3 times","0,1,2","It prints the loop"] },
            { prompt: "What data type is this?", code: '"Pineapple"', answer: "String (Text)", options: ["Integer","Boolean","List","String (Text)"] },

            // --- 20 NEW QUESTIONS ---
            { prompt: "What does this operator do?", code: "5 + 3", answer: "Adds numbers", options: ["Adds numbers","Subtracts numbers","Divides numbers","Joins text"] },
            { prompt: "What type of number is 3.14?", code: "3.14", answer: "Float", options: ["Integer","Float","String","Boolean"] },
            { prompt: "What will this print?", code: "print(2 * 4)", answer: "8", options: ["6","24","8","2 * 4"] },
            { prompt: "What does len('cat') return?", code: "len('cat')", answer: "3", options: ["2","3","1","Error"] },
            { prompt: "What is a list?", code: "[1, 2, 3]", answer: "A collection of items", options: ["A loop","A mistake","A comment","A collection of items"] },
            { prompt: "What index does 'b' have?", code: "['a','b','c'][1]", answer: "1", options: ["0","1","2","Error"] },
            { prompt: "What is this called?", code: "def hello():", answer: "Function definition", options: ["Loop","Condition","Function definition","String"] },
            { prompt: "What does True and False represent?", code: "True, False", answer: "Boolean values", options: ["Strings","Numbers","Boolean values","Lists"] },
            { prompt: "What is concatenation?", code: '"Hi" + "!"', answer: "Joining text", options: ["Dividing","Looping","Joining text","Commenting"] },
            { prompt: "What does this return?", code: "type(10)", answer: "int", options: ["str","int","float","bool"] },
            { prompt: "What does this loop print?", code: "for i in range(2): print(i)", answer: "0 and 1", options: ["1 and 2","0 and 1","Just 0","Nothing"] },
            { prompt: "What does this slice return?", code: "'python'[0:2]", answer: "'py'", options: ["'py'","'th'","'on'","'python'"] },
            { prompt: "What is a dictionary?", code: "{'a': 1, 'b': 2}", answer: "Key-value pairs", options: ["A loop","Key-value pairs","A string","A list"] },
            { prompt: "What does input() do?", code: "input()", answer: "Asks the user for text", options: ["Prints text","Stops code","Asks the user for text","Creates a loop"] },
            { prompt: "What is the first index in Python?", code: "['x','y','z']", answer: "0", options: ["1","0","2","None"] },
            { prompt: "What will this output?", code: "print('A' * 3)", answer: "AAA", options: ["A3","Error","AAA","A*3"] },
            { prompt: "Which keyword starts a loop?", code: "for i in ...", answer: "for", options: ["if","def","for","while"] },
            { prompt: "Which keyword starts a function?", code: "def myFunc():", answer: "def", options: ["for","if","def","return"] },
            { prompt: "What does return do?", code: "return x", answer: "Sends a value back", options: ["Stops Python","Prints text","Sends a value back","Adds numbers"] },
            { prompt: "What is this?", code: "True == False", answer: "A comparison", options: ["Assignment","A comparison","Loop","String"] }
        ];

        let currentQuestions = [...questions];
        let currentQuestionIndex = 0;
        let score = 0;
        let isAnswered = false;

        const scoreDisplay = document.getElementById('score');
        const questionCounter = document.getElementById('question-counter');
        const questionText = document.getElementById('question-text');
        const codeSnippet = document.getElementById('code-snippet');
        const optionsContainer = document.getElementById('options-container');
        const feedbackMessage = document.getElementById('feedback-message');
        const nextButton = document.getElementById('next-button');
        const gameOverModal = document.getElementById('game-over-modal');
        const finalScoreDisplay = document.getElementById('final-score');

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function startGame() {
            currentQuestionIndex = 0;
            score = 0;
            isAnswered = false;
            gameOverModal.classList.add('hidden');
            nextButton.classList.add('hidden');
            scoreDisplay.textContent = score;

            currentQuestions = [...questions];
            shuffleArray(currentQuestions);

            loadQuestion();
        }

        function loadQuestion() {
            if (currentQuestionIndex >= currentQuestions.length) return endGame();

            isAnswered = false;
            nextButton.classList.add('hidden');
            feedbackMessage.classList.add('opacity-0');
            feedbackMessage.textContent = "";

            const q = currentQuestions[currentQuestionIndex];
            questionCounter.textContent = `Question ${currentQuestionIndex + 1} of ${currentQuestions.length}`;
            questionText.textContent = q.prompt;
            codeSnippet.textContent = q.code;

            optionsContainer.innerHTML = '';
            let shuffled = [...q.options];
            shuffleArray(shuffled);

            shuffled.forEach(opt => {
                const btn = document.createElement('button');
                btn.textContent = opt;
                btn.classList.add('answer-button','w-full','px-4','py-4','bg-white','text-gray-800','font-bold','rounded-xl','border-2','border-indigo-400','hover:bg-indigo-100','text-lg','transition','duration-150');
                btn.onclick = () => checkAnswer(btn, opt, q.answer);
                optionsContainer.appendChild(btn);
            });
        }

        function checkAnswer(btn, choice, correct) {
            if (isAnswered) return;
            isAnswered = true;
            nextButton.classList.remove('hidden');

            if (choice === correct) {
                score++;
                scoreDisplay.textContent = score;
                btn.classList.add('correct-answer');
                feedbackMessage.textContent = "Correct!";
            } else {
                btn.classList.add('incorrect-answer');
                feedbackMessage.textContent = `Correct answer: ${correct}`;
            }

            feedbackMessage.classList.remove('opacity-0');

            [...optionsContainer.children].forEach(b => b.disabled = true);
        }

        function nextQuestion() {
            currentQuestionIndex++;
            loadQuestion();
        }

        function endGame() {
            finalScoreDisplay.textContent = `${score} / ${currentQuestions.length}`;
            gameOverModal.classList.remove('hidden');
        }

        window.onload = startGame;
    </script>

</body>
</html>
